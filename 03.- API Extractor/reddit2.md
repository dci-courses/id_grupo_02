

``` python
import praw
import pandas as pd
import datetime

# Conectar con Reddit usando PRAW
reddit = praw.Reddit("CREDENCIALES")

# Extraer datos de un subreddit
subreddit = reddit.subreddit('lies')
posts = []
for post in subreddit.new(limit=500000):  # Extraer top 5000 publicaciones
    posts.append([post.title, post.score, post.id, post.subreddit, post.num_comments, 
                  post.selftext, post.created, post.author, post.upvote_ratio])

# Convertir los datos a un DataFrame
df = pd.DataFrame(posts, columns=['title', 'score', 'id', 'subreddit', 'num_comments', 
                                  'body', 'created', 'author', 'upvote_ratio'])

# Convertir la columna 'created' a formato de fecha
df['created'] = pd.to_datetime(df['created'], unit='s')

# Mostrar las primeras filas
df.head()
```

    AttributeError: 'NoneType' object has no attribute 'name'
    [0;31m---------------------------------------------------------------------------[0m
    [0;31mAttributeError[0m                            Traceback (most recent call last)
    Cell [0;32mIn[22], line 34[0m
    [1;32m     31[0m     posts_per_author[author][38;5;241m.[39mappend(post)
    [1;32m     33[0m [38;5;66;03m# Sorting the dictionary by author name[39;00m
    [0;32m---> 34[0m sorted_posts_per_author [38;5;241m=[39m [38;5;28mdict[39m([38;5;28;43msorted[39;49m[43m([49m[43mposts_per_author[49m[38;5;241;43m.[39;49m[43mitems[49m[43m([49m[43m)[49m[43m,[49m[43m [49m[43mkey[49m[38;5;241;43m=[39;49m[38;5;28;43;01mlambda[39;49;00m[43m [49m[43mitem[49m[43m:[49m[43m [49m[43mitem[49m[43m[[49m[38;5;241;43m0[39;49m[43m][49m[38;5;241;43m.[39;49m[43mname[49m[43m)[49m)
    [1;32m     36[0m [38;5;66;03m# Example of converting to DataFrame[39;00m
    [1;32m     37[0m data [38;5;241m=[39m []

    Cell [0;32mIn[22], line 34[0m, in [0;36m<lambda>[0;34m(item)[0m
    [1;32m     31[0m     posts_per_author[author][38;5;241m.[39mappend(post)
    [1;32m     33[0m [38;5;66;03m# Sorting the dictionary by author name[39;00m
    [0;32m---> 34[0m sorted_posts_per_author [38;5;241m=[39m [38;5;28mdict[39m([38;5;28msorted[39m(posts_per_author[38;5;241m.[39mitems(), key[38;5;241m=[39m[38;5;28;01mlambda[39;00m item: [43mitem[49m[43m[[49m[38;5;241;43m0[39;49m[43m][49m[38;5;241;43m.[39;49m[43mname[49m))
    [1;32m     36[0m [38;5;66;03m# Example of converting to DataFrame[39;00m
    [1;32m     37[0m data [38;5;241m=[39m []

    [0;31mAttributeError[0m: 'NoneType' object has no attribute 'name'

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
import matplotlib.pyplot as plt

# Contar el n√∫mero de publicaciones por fecha
df['date'] = df['created'].dt.date
posts_per_day = df.groupby('date').size()

# Graficar la cantidad de publicaciones a lo largo del tiempo
plt.figure(figsize=(10,6))
posts_per_day.plot()
plt.title('Publicaciones en el subreddit Python a lo largo del tiempo')
plt.xlabel('Fecha')
plt.ylabel('N√∫mero de publicaciones')
plt.show()
```

![](reddit2_files/figure-commonmark/cell-3-output-1.png)

``` python
# Graficar la distribuci√≥n de puntajes
plt.figure(figsize=(10,6))
df['score'].plot(kind='hist', bins=50)
plt.title('Distribuci√≥n de puntajes de las publicaciones')
plt.xlabel('Puntaje (upvotes)')
plt.ylabel('Frecuencia')
plt.show()
```

![](reddit2_files/figure-commonmark/cell-4-output-1.png)
